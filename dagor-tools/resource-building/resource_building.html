<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Resource Building: daBuild, build, vromfs, levels, settings.blk &mdash; Dagor Documentation  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster.custom.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster.bundle.min.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster-sideTip-shadow.min.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster-sideTip-punk.min.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster-sideTip-noir.min.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster-sideTip-light.min.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster-sideTip-borderless.min.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/micromodal.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/sphinx_rtd_theme.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />

  
    <link rel="shortcut icon" href="../../_static/gaijin.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
        <script src="../../_static/js/hoverxref.js"></script>
        <script src="../../_static/js/tooltipster.bundle.min.js"></script>
        <script src="../../_static/js/micromodal.min.js"></script>
        <script src="../../_static/js/versionwarning.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
        <script src="../../_static/design-tabs.js"></script>
        <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Vromfs" href="vromfs.html" />
    <link rel="prev" title="Resource Building" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            Dagor Documentation
              <img src="../../_static/gaijin_round_blur.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.1.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../dagor-home/index.html">Dagor Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/index.html">Getting Started with Dagor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials and Manuals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api-references/index.html">API References and Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../samples/index.html">Samples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Dagor Tools</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../blk/index.html">.blk Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="../asset-viewer/index.html">Asset Viewer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../daeditor/index.html">daEditor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dag2rires/index.html">dag2riRes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../impostor-baker/index.html">Impostor Baker</a></li>
<li class="toctree-l2"><a class="reference internal" href="../levels-deps/index.html">levels.deps</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Resource Building</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Resource Building: daBuild, build, vromfs, levels, settings.blk</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parameters-in-folder-blk-affecting-the-building-process">Parameters in .folder.blk Affecting the Building Process</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#global-export-parameters">Global Export Parameters</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#about-packs-and-packages">About Packs and Packages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#what-is-a-package">What Is a “Package”?</a></li>
<li class="toctree-l4"><a class="reference internal" href="#what-is-a-pack">What Is a “Pack”?</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#local-build">Local Build</a></li>
<li class="toctree-l3"><a class="reference internal" href="#local-full-dabuild">Local Full daBuild</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#building-and-errors">Building and Errors</a></li>
<li class="toctree-l4"><a class="reference internal" href="#local-pack-build">Local Pack Build</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#local-package-build">Local Package Build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#option-1-building-a-specific-package">Option 1 - Building a Specific Package</a></li>
<li class="toctree-l4"><a class="reference internal" href="#option-2-building-a-specific-package-and-its-dependencies">Option 2 - Building a Specific Package and Its Dependencies</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#toggling-packages-in-settings-blk">Toggling Packages in settings.blk</a></li>
<li class="toctree-l3"><a class="reference internal" href="#local-build-of-a-specific-asset">Local Build of a Specific Asset</a></li>
<li class="toctree-l3"><a class="reference internal" href="#local-resource-build-in-asset-viewer">Local Resource Build in Asset Viewer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#local-vromfs-build">Local Vromfs Build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#methods-to-build-vromfs">Methods to Build Vromfs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#local-build-of-resources-and-vromfs-in-the-open-daeditor-and-client">Local Build of Resources and Vromfs in the open daEditor and Client</a></li>
<li class="toctree-l3"><a class="reference internal" href="#local-level-export">Local Level Export</a></li>
<li class="toctree-l3"><a class="reference internal" href="vromfs.html">Vromfs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../substance-designer/index.html">Substance Designer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addons/index.html">Add-ons for Blender and 3ds Max</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../assets/index.html">Assets and Assets Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../danetgame-framework/index.html">DaNetGame Framework</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Dagor Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Dagor Tools</a></li>
          <li class="breadcrumb-item"><a href="index.html">Resource Building</a></li>
      <li class="breadcrumb-item active">Resource Building: daBuild, build, vromfs, levels, settings.blk</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/dagor-tools/resource-building/resource_building.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="resource-building-dabuild-build-vromfs-levels-settings-blk">
<h1>Resource Building: daBuild, build, vromfs, levels, settings.blk<a class="headerlink" href="#resource-building-dabuild-build-vromfs-levels-settings-blk" title="Permalink to this heading"></a></h1>
<p>Resource building refers to the process of packaging all game assets – including
models, textures, levels, and their associated settings and game logic – into
binary files. This approach helps reduce the number of files that need to be
downloaded, speeding up the download process while keeping the data volume
constant. It also protects our assets from being exploited by players for
unintended purposes.</p>
<p>The game itself does not interact directly with the raw assets like models,
textures, or level settings that we create. Instead, it only interacts with the
compiled binary files. When a level is loaded, the necessary packages are
fetched, decompressed, and the required information is extracted from them.</p>
<p>This article provides an overview of how to build assets, levels, and settings.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="parameters-in-folder-blk-affecting-the-building-process">
<h1>Parameters in .folder.blk Affecting the Building Process<a class="headerlink" href="#parameters-in-folder-blk-affecting-the-building-process" title="Permalink to this heading"></a></h1>
<p>Resource building is governed by the rules defined in <code class="docutils literal notranslate"><span class="pre">.folder.blk</span></code> files. For
more details about <code class="docutils literal notranslate"><span class="pre">.folder.blk</span></code>, read
<a class="reference internal" href="../../assets/all-about-blk/folder_blk.html"><span class="std std-doc">here</span></a>. For instance, the following
block specifies compression parameters for <code class="docutils literal notranslate"><span class="pre">.tiff</span></code> textures.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">virtual_res_blk</span><span class="p">{</span>
  <span class="n">find</span><span class="p">:</span><span class="n">t</span><span class="o">=</span><span class="s2">&quot;^(.*)\.tiff$&quot;</span> <span class="o">//</span> <span class="n">search</span> <span class="k">for</span> <span class="nb">any</span> <span class="o">.</span><span class="n">tiff</span> <span class="n">files</span>
  <span class="n">className</span><span class="p">:</span><span class="n">t</span><span class="o">=</span><span class="s2">&quot;tex&quot;</span>    <span class="o">//</span> <span class="n">assign</span> <span class="n">the</span> <span class="s2">&quot;texture&quot;</span> <span class="k">class</span>
  <span class="nc">contents</span><span class="p">{</span>            <span class="o">//</span> <span class="n">processing</span> <span class="n">details</span>
    <span class="n">convert</span><span class="p">:</span><span class="n">b</span><span class="o">=</span><span class="n">yes</span><span class="p">;</span><span class="n">fmt</span><span class="p">:</span><span class="n">t</span><span class="o">=</span><span class="s2">&quot;DXT1|DXT5&quot;</span> <span class="o">//</span> <span class="n">convert</span><span class="p">;</span> <span class="n">use</span> <span class="n">DXT1</span> <span class="ow">or</span> <span class="n">DXT5</span> <span class="nb">format</span> <span class="p">(</span><span class="k">if</span> <span class="n">alpha</span> <span class="ow">is</span> <span class="n">present</span><span class="p">)</span>
    <span class="n">mipFilter</span><span class="p">:</span><span class="n">t</span><span class="o">=</span><span class="s2">&quot;filterKaiser&quot;</span><span class="p">;</span><span class="n">mipFilterAlpha</span><span class="p">:</span><span class="n">r</span><span class="o">=</span><span class="mi">40</span><span class="p">;</span><span class="n">mipFilterStretch</span><span class="p">:</span><span class="n">r</span><span class="o">=</span><span class="mi">2</span> <span class="o">//</span> <span class="n">mipmap</span> <span class="n">compression</span> <span class="n">using</span>
                                    <span class="o">//</span> <span class="n">the</span> <span class="n">Kaiser</span> <span class="nb">filter</span> <span class="p">(</span><span class="n">sharpens</span><span class="p">);</span> <span class="k">with</span> <span class="n">two</span> <span class="n">parameters</span>
    <span class="n">addrU</span><span class="p">:</span><span class="n">t</span><span class="o">=</span><span class="s2">&quot;wrap&quot;</span><span class="p">;</span><span class="n">addrV</span><span class="p">:</span><span class="n">t</span><span class="o">=</span><span class="s2">&quot;wrap&quot;</span> <span class="o">//</span> <span class="n">define</span> <span class="n">texture</span> <span class="n">tiling</span> <span class="n">behavior</span><span class="p">,</span> <span class="n">wrap</span> <span class="o">=</span> <span class="n">repeat</span> <span class="k">for</span> <span class="n">repeating</span> <span class="n">textures</span><span class="o">.</span>
    <span class="n">hqMip</span><span class="p">:</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">mqMip</span><span class="p">:</span><span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">lqMip</span><span class="p">:</span><span class="n">i</span><span class="o">=</span><span class="mi">2</span> <span class="o">//</span> <span class="n">define</span> <span class="n">the</span> <span class="n">displayed</span> <span class="n">mip</span> <span class="n">level</span> <span class="n">based</span> <span class="n">on</span> <span class="n">graphics</span> <span class="n">quality</span><span class="p">;</span>
                                  <span class="o">//</span> <span class="n">hq</span> <span class="p">(</span><span class="n">high</span> <span class="n">quality</span><span class="p">)</span> <span class="n">uses</span> <span class="n">the</span> <span class="n">original</span> <span class="n">texture</span><span class="p">,</span>
                                  <span class="o">//</span> <span class="n">mq</span> <span class="n">uses</span> <span class="n">mip</span> <span class="n">level</span> <span class="mi">1</span> <span class="p">(</span><span class="mi">50</span><span class="o">%</span> <span class="n">compression</span><span class="p">),</span> <span class="n">lq</span> <span class="n">uses</span> <span class="n">mip</span> <span class="n">level</span> <span class="mi">2</span> <span class="p">(</span><span class="mi">75</span><span class="o">%</span> <span class="n">compression</span><span class="p">)</span><span class="o">.</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>There are numerous such processing blocks. Below, we’ll examine the key ones.</p>
<section id="global-export-parameters">
<h2>Global Export Parameters<a class="headerlink" href="#global-export-parameters" title="Permalink to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span><span class="p">{</span>
  <span class="n">package</span><span class="p">:</span><span class="n">t</span><span class="o">=</span><span class="s2">&quot;*&quot;</span> <span class="o">//</span> <span class="n">Specify</span> <span class="n">the</span> <span class="n">package</span> <span class="n">to</span> <span class="n">which</span> <span class="n">the</span> <span class="n">asset</span> <span class="n">will</span> <span class="n">be</span> <span class="n">built</span>
                <span class="o">//</span> <span class="p">(</span><span class="n">a</span> <span class="n">package</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">highest</span> <span class="n">level</span> <span class="n">of</span> <span class="n">asset</span> <span class="n">grouping</span><span class="p">)</span>
  <span class="n">forcePackage</span><span class="p">:</span><span class="n">t</span><span class="o">=</span><span class="s2">&quot;*&quot;</span> <span class="o">//</span> <span class="n">Some</span> <span class="n">packages</span> <span class="n">might</span> <span class="n">be</span> <span class="n">automatically</span> <span class="n">renamed</span> <span class="n">by</span> <span class="n">hardcoded</span> <span class="n">logic</span><span class="o">.</span>
                     <span class="o">//</span> <span class="n">This</span> <span class="n">parameter</span> <span class="n">enforces</span> <span class="n">a</span> <span class="n">specific</span> <span class="n">name</span><span class="o">.</span> <span class="n">Use</span> <span class="n">this</span> <span class="k">if</span> <span class="n">you</span> <span class="n">want</span> <span class="n">to</span>
                     <span class="o">//</span> <span class="n">ensure</span> <span class="n">that</span> <span class="n">certain</span> <span class="n">assets</span> <span class="n">are</span> <span class="n">built</span> <span class="n">into</span> <span class="n">only</span> <span class="n">one</span> <span class="n">location</span><span class="o">.</span>
  <span class="n">ddsxTexPackPrefix</span><span class="p">:</span><span class="n">t</span><span class="o">=</span><span class="s2">&quot;tanks/&quot;</span> <span class="o">//</span> <span class="n">Specify</span> <span class="n">the</span> <span class="n">directory</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">built</span> <span class="n">resources</span> <span class="n">where</span>
                               <span class="o">//</span> <span class="n">texture</span> <span class="n">packs</span> <span class="n">will</span> <span class="n">be</span> <span class="n">stored</span> <span class="p">(</span><span class="n">a</span> <span class="n">pack</span> <span class="ow">is</span> <span class="n">the</span> <span class="nb">next</span> <span class="n">level</span> <span class="n">of</span> <span class="n">grouping</span> <span class="n">within</span> <span class="n">a</span> <span class="n">package</span><span class="p">)</span><span class="o">.</span>
                               <span class="o">//</span> <span class="n">In</span> <span class="n">this</span> <span class="n">example</span><span class="p">,</span> <span class="n">texture</span> <span class="n">packs</span> <span class="k">for</span> <span class="n">tanks</span> <span class="n">will</span> <span class="n">be</span> <span class="n">built</span>
                               <span class="o">//</span> <span class="n">into</span> <span class="n">the</span> <span class="s2">&quot;tanks&quot;</span> <span class="n">directory</span> <span class="n">rather</span> <span class="n">than</span> <span class="n">the</span> <span class="n">general</span> <span class="n">directory</span><span class="o">.</span>
  <span class="n">ddsxTexPack</span><span class="p">:</span><span class="n">t</span><span class="o">=</span><span class="s2">&quot;*name_src&quot;</span>    <span class="o">//</span> <span class="n">Specify</span> <span class="n">the</span> <span class="n">name</span> <span class="n">of</span> <span class="n">the</span> <span class="n">texture</span> <span class="n">pack</span><span class="o">.</span> <span class="n">If</span> <span class="s2">&quot;*name_src&quot;</span> <span class="ow">is</span> <span class="n">used</span><span class="p">,</span>
                               <span class="o">//</span> <span class="n">the</span> <span class="n">name</span> <span class="n">will</span> <span class="n">be</span> <span class="n">derived</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">directory</span> <span class="n">containing</span> <span class="n">the</span> <span class="n">textures</span><span class="o">.</span>
  <span class="n">gameResPack</span><span class="p">:</span><span class="n">t</span><span class="o">=</span><span class="s2">&quot;aces.grp&quot;</span> <span class="o">//</span> <span class="n">Specify</span> <span class="n">the</span> <span class="n">name</span> <span class="n">of</span> <span class="n">the</span> <span class="n">resource</span> <span class="n">pack</span><span class="o">.</span> <span class="n">If</span> <span class="s2">&quot;*name_src&quot;</span> <span class="ow">is</span> <span class="n">used</span><span class="p">,</span>
                           <span class="o">//</span> <span class="n">the</span> <span class="n">name</span> <span class="n">will</span> <span class="n">be</span> <span class="n">derived</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">folder</span> <span class="n">containing</span> <span class="n">the</span> <span class="n">textures</span><span class="o">.</span>
  <span class="n">splitNotSeparate</span><span class="p">:</span><span class="n">b</span><span class="o">=</span><span class="n">true</span>  <span class="o">//</span> <span class="n">Indicate</span> <span class="n">that</span> <span class="n">textures</span> <span class="n">should</span> <span class="ow">not</span> <span class="n">be</span> <span class="n">split</span> <span class="n">between</span> <span class="n">the</span> <span class="n">base</span> <span class="n">client</span> <span class="ow">and</span> <span class="n">the</span> <span class="n">full</span> <span class="n">client</span><span class="o">.</span>
                           <span class="o">//</span> <span class="n">In</span> <span class="n">the</span> <span class="n">base</span> <span class="n">client</span><span class="p">,</span> <span class="n">textures</span> <span class="n">are</span> <span class="n">downscaled</span> <span class="n">to</span> <span class="mi">512</span><span class="n">px</span> <span class="n">so</span> <span class="n">players</span> <span class="n">can</span> <span class="n">download</span> <span class="n">a</span> <span class="n">smaller</span>
                           <span class="o">//</span> <span class="n">amount</span> <span class="n">of</span> <span class="n">data</span> <span class="ow">and</span> <span class="n">start</span> <span class="n">playing</span> <span class="n">sooner</span><span class="o">.</span> <span class="n">To</span> <span class="n">maintain</span> <span class="n">visual</span> <span class="n">quality</span><span class="p">,</span> <span class="n">some</span> <span class="n">textures</span><span class="p">,</span> <span class="n">like</span>
                           <span class="o">//</span> <span class="n">those</span> <span class="k">for</span> <span class="n">tanks</span> <span class="ow">or</span> <span class="n">hangars</span><span class="p">,</span> <span class="n">are</span> <span class="ow">not</span> <span class="n">downscaled</span> <span class="n">but</span> <span class="n">kept</span> <span class="n">at</span> <span class="n">normal</span> <span class="n">quality</span><span class="o">.</span> <span class="n">This</span> <span class="n">flag</span> <span class="ow">is</span>
                           <span class="o">//</span> <span class="nb">set</span> <span class="n">to</span> <span class="n">true</span> <span class="n">to</span> <span class="n">prevent</span> <span class="n">downscaling</span><span class="o">.</span> <span class="n">The</span> <span class="n">default</span> <span class="ow">is</span> <span class="n">false</span><span class="p">,</span> <span class="ow">and</span> <span class="n">it</span> <span class="n">can</span> <span class="n">be</span> <span class="n">omitted</span><span class="o">.</span>
<span class="p">}</span>
</pre></div>
</div>
<p>These are just a few examples. Let’s delve into the primary parameters.</p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="about-packs-and-packages">
<h1>About Packs and Packages<a class="headerlink" href="#about-packs-and-packages" title="Permalink to this heading"></a></h1>
<p>The hierarchy of resources can be illustrated as follows:</p>
<p><img alt="Hierarchy of Resources" src="../../_images/res_build_01.png" /></p>
<p>In essence, a project can contain several packages, and each package can include
multiple packs.</p>
<section id="what-is-a-package">
<h2>What Is a “Package”?<a class="headerlink" href="#what-is-a-package" title="Permalink to this heading"></a></h2>
<p>A <em>package</em> typically serves as a container for resources that we want to
distribute to or remove from the player’s environment. For instance, we might
bundle a specific location and its assets into a package for a particular event.
Players download it, enjoy the event for a week, and once the event concludes,
the package is removed from their resources.</p>
<p>Packages can also be used to release or sell add-ons. Instead of requiring
players to download 20 GB of resources upfront, they can start with a minimal
setup and quickly get into the game. Later, they can purchase additional content
and download the necessary data from the relevant package.</p>
<p>See more details about packages <a class="reference internal" href="packages.html"><span class="std std-doc">here</span></a>.</p>
</section>
<section id="what-is-a-pack">
<h2>What Is a “Pack”?<a class="headerlink" href="#what-is-a-pack" title="Permalink to this heading"></a></h2>
<p>A <em>pack</em> is a component of a package where the assets are actually built. The
logic for dividing assets into packs is straightforward:</p>
<ul class="simple">
<li><p>When a location is loaded, the minimum possible number of packs should be
fetched to optimize loading times.</p></li>
<li><p>Each pack should ideally be between 10 to 100 MB (with 100 MB being the
absolute maximum) to ensure efficient unpacking.</p></li>
</ul>
<p>Generally, we group similar assets together; for example, all vehicle props
might go into a pack named <code class="docutils literal notranslate"><span class="pre">vehicles</span></code>. Defensive structures like pillboxes,
trenches, bunkers, and barricades might be grouped into a pack called
<code class="docutils literal notranslate"><span class="pre">fortifications</span></code>.</p>
<p>If a pack becomes too large, we break it down into smaller groups. For example,
vehicles could be further divided into packs such as <code class="docutils literal notranslate"><span class="pre">buses</span></code>, <code class="docutils literal notranslate"><span class="pre">trucks</span></code>, and
<code class="docutils literal notranslate"><span class="pre">cars</span></code>.</p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="local-build">
<h1>Local Build<a class="headerlink" href="#local-build" title="Permalink to this heading"></a></h1>
<p>When you create a new asset, it needs to be tested locally in the game. The
local client, like the player’s client, only understands built resources, so
they need to be built before testing.</p>
<p>There are three types of builds:</p>
<ol class="arabic simple">
<li><p><strong>Full Build</strong>: Builds all resources.</p></li>
<li><p><strong>Partial Pack Build</strong>: Builds the specific pack containing the resource you
need. This method is used when only a few assets have been modified – quick
and efficient.</p></li>
<li><p><strong>Partial Package Build</strong>: Builds an entire package (a set of packs).
Although this is a longer process, it can be more convenient in some cases,
such as in <em>daNetGame-based</em> games, where packaging the resources this way
might be preferable to building individual packs.</p></li>
</ol>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="local-full-dabuild">
<h1>Local Full daBuild<a class="headerlink" href="#local-full-dabuild" title="Permalink to this heading"></a></h1>
<p><a class="reference internal" href="../daeditor/daeditor/daeditor.html"><span class="std std-doc"><em>daBuild</em></span></a> is a program executed via the
<code class="docutils literal notranslate"><span class="pre">dabuild.cmd</span></code> batch file.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Running <code class="docutils literal notranslate"><span class="pre">dabuild.cmd</span></code> will build all resources – this process can take hours. If
you only need to build a single resource for quick testing, use
<code class="docutils literal notranslate"><span class="pre">dabuild_test.bat</span></code> instead.</p>
</div>
<section id="building-and-errors">
<h2>Building and Errors<a class="headerlink" href="#building-and-errors" title="Permalink to this heading"></a></h2>
<p>In theory, all assets should be error-free. However, asset management initially
relied heavily on manual checks, leading to human error and allowing issues to
slip through. Over time, more automated checks were added to <em>daBuild</em>, which
means that older assets that previously built without problems might now trigger
errors. If an error occurs while building a pack, the build process for that
pack is halted, and subsequent assets are not built. Errors are only detected
during the build process, but they also interrupt it, making it time-consuming
to identify and fix issues across all assets within a pack.</p>
<p>To address this, the <code class="docutils literal notranslate"><span class="pre">-keep_building_after_error</span></code> flag was introduced. If the
previous build resulted in errors, you can add this flag at the end of the batch
file command to allow <em>daBuild</em> to continue building all resources while logging
the errors.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This flag should not be used to ignore errors. The build process for specific
assets will still be interrupted, but it will move on to the next asset in the
pack rather than stopping at the first error. Once you’ve collected error data,
fix the assets and run the build without this flag to ensure that <em>daBuild</em>
completes successfully without issues.</p>
</div>
</section>
<section id="local-pack-build">
<h2>Local Pack Build<a class="headerlink" href="#local-pack-build" title="Permalink to this heading"></a></h2>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Building packs with <em>daBuild</em> will compile all packs matching a specified
pattern. For example, if you have a <code class="docutils literal notranslate"><span class="pre">vehicles</span></code> pack and a <code class="docutils literal notranslate"><span class="pre">vehicles_modern</span></code>
pack, building <code class="docutils literal notranslate"><span class="pre">vehicles</span></code> will compile both packs unless you specify the exact
pack extension (e.g., <code class="docutils literal notranslate"><span class="pre">vehicles.grp</span></code> to target only that pack).</p>
<p>Also, note that <em>daBuild</em> will build packs based on the package name. For
example, if you have several packs within the <code class="docutils literal notranslate"><span class="pre">main</span></code> package and you run a build
using the <code class="docutils literal notranslate"><span class="pre">main</span></code> pattern, it will build all packs within the <code class="docutils literal notranslate"><span class="pre">main</span></code> package.
<strong>This builds all packs within the <code class="docutils literal notranslate"><span class="pre">main</span></code> package, not the <code class="docutils literal notranslate"><span class="pre">main</span></code> package
itself.</strong></p>
<p>This happens because the final pack names always include the package name as a
prefix. For example, the <code class="docutils literal notranslate"><span class="pre">vehicles</span></code> pack in the <code class="docutils literal notranslate"><span class="pre">main</span></code> package will ultimately
be named <code class="docutils literal notranslate"><span class="pre">main_vehicles</span></code>.</p>
</div>
<p>To build a specific pack, open <code class="docutils literal notranslate"><span class="pre">dabuild_test.bat</span></code> in any text editor, and you
will see a line like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">..</span>\<span class="o">..</span>\<span class="n">tools</span>\<span class="n">dagor3_cdk</span>\<span class="n">bin64</span>\<span class="n">dabuild</span><span class="o">-</span><span class="n">dev</span><span class="o">.</span><span class="n">exe</span> <span class="o">-</span><span class="n">target</span><span class="p">:</span><span class="n">PC</span> <span class="o">..</span>\<span class="n">application</span><span class="o">.</span><span class="n">blk</span> <span class="o">-</span><span class="n">packs_re</span><span class="p">:</span><span class="n">usa_gm</span> <span class="o">-</span><span class="n">Q</span>
</pre></div>
</div>
<p>Replace <code class="docutils literal notranslate"><span class="pre">usa_gm</span></code> with the name of the pack you need to build. The pack is
determined by the nearest <code class="docutils literal notranslate"><span class="pre">.folder.blk</span></code> file to the asset, containing lines
like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span><span class="p">{</span>
  <span class="n">ddsxTexPack</span><span class="p">:</span><span class="n">t</span><span class="o">=</span><span class="s2">&quot;gm_lvl_assets.dxp.bin&quot;</span>
  <span class="n">gameResPack</span><span class="p">:</span><span class="n">t</span><span class="o">=</span><span class="s2">&quot;gm_lvl_assets.grp&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">gm_lvl_assets</span></code> is an example of the pack name into which the resources will be
built. It may vary – refer to your specific setup.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Notice that there are two types of packs:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ddsxTexPack</span></code> - Exports textures.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gameResPack</span></code> - Exports models.</p></li>
</ol>
<p>It’s possible for textures to be exported to one pack and models to another. For
example:</p>
</div>
<p>export{
ddsxTexPack:t=“gm_lvl_assets.dxp.bin”
gameResPack:t=“locations.grp”
}</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
<span class="n">You</span> <span class="n">need</span> <span class="n">to</span> <span class="n">build</span> <span class="n">the</span> <span class="n">packs</span> <span class="n">corresponding</span> <span class="n">to</span> <span class="n">the</span> <span class="n">resources</span> <span class="n">you</span><span class="s1">&#39;ve modified. If</span>
<span class="n">you</span><span class="s1">&#39;ve changed textures, build the texture pack. If you&#39;</span><span class="n">ve</span> <span class="n">changed</span> <span class="n">models</span><span class="p">,</span> <span class="n">build</span>
<span class="n">the</span> <span class="n">model</span> <span class="n">pack</span><span class="o">.</span> <span class="n">If</span> <span class="n">both</span> <span class="n">were</span> <span class="n">changed</span><span class="p">,</span> <span class="n">build</span> <span class="n">both</span> <span class="n">packs</span><span class="o">.</span>
</pre></div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="local-package-build">
<h1>Local Package Build<a class="headerlink" href="#local-package-build" title="Permalink to this heading"></a></h1>
<p>Unlike packs, packages are more comprehensive and refer to self-contained
volumes of resources that can be enabled or disabled with a “toggle.”</p>
<p>For example, in <em>War Thunder</em>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pkg_main</span></code> (or simply <code class="docutils literal notranslate"><span class="pre">*</span></code>) - The default package where all assets are
exported.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pkg_dev</span></code> - Contains assets that should be built but not distributed to
players.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tomoe</span></code> - A package for modifying certain symbols in countries where their
original form is prohibited.</p></li>
<li><p>Event packages are also occasionally used.</p></li>
</ul>
<p>In <em>daNetGame-based</em> games, each location is its own package, which can be
distributed to players independently.</p>
<p>In a <code class="docutils literal notranslate"><span class="pre">.folder.blk</span></code> file, the package entry looks like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span><span class="p">{</span>
  <span class="n">package</span><span class="p">:</span><span class="n">t</span><span class="o">=</span><span class="s2">&quot;tomoe&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In <em>War Thunder</em>, local package builds are not common, as there are few
packages, and packs are usually built instead. However, in <em>daNetGame-based</em>
games, this is an extremely useful feature. There are two options for such
builds.</p>
<section id="option-1-building-a-specific-package">
<h2>Option 1 - Building a Specific Package<a class="headerlink" href="#option-1-building-a-specific-package" title="Permalink to this heading"></a></h2>
<p>In the <code class="docutils literal notranslate"><span class="pre">daBuild</span></code> batch file, write:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">..</span>\<span class="o">..</span>\<span class="n">tools</span>\<span class="n">dagor3_cdk</span>\<span class="n">bin64</span>\<span class="n">dabuild</span><span class="o">-</span><span class="n">dev</span><span class="o">.</span><span class="n">exe</span> <span class="o">-</span><span class="n">target</span><span class="p">:</span><span class="n">PC</span> <span class="o">..</span>\<span class="n">application</span><span class="o">.</span><span class="n">blk</span> <span class="o">-</span><span class="n">package</span><span class="p">:</span><span class="n">package_name</span> <span class="o">-</span><span class="n">Q</span>
</pre></div>
</div>
<p>Replace <code class="docutils literal notranslate"><span class="pre">package_name</span></code> with the name of the package you need to build. This will
build the entire package with validation and checks.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Package builds target specific packages, unlike packs, which work based on
patterns. This isn’t usually an issue unless you’re trying to build textures.</p>
<p>For example, <code class="docutils literal notranslate"><span class="pre">package_name</span></code> and <code class="docutils literal notranslate"><span class="pre">package_name_hq</span></code> (high-quality textures used
for close-up views) are different packages. Building the package with
<code class="docutils literal notranslate"><span class="pre">-package:package_name</span></code> will only compile standard textures, not high-quality
ones. This could result in your changes appearing in low-quality textures but
reverting when viewed up close, as the high-quality textures haven’t been
updated.</p>
<p>To avoid this, you should either:</p>
<ul>
<li><p>Sequentially build both packages using one batch file:</p>
<p><code class="docutils literal notranslate"><span class="pre">-package:package_name</span> <span class="pre">-package:package_name_hq</span></code></p>
</li>
<li><p>Or create two separate batch files: one for the main resource package (non-HQ
textures) and another specifically for HQ textures.</p></li>
</ul>
</div>
</section>
<section id="option-2-building-a-specific-package-and-its-dependencies">
<h2>Option 2 - Building a Specific Package and Its Dependencies<a class="headerlink" href="#option-2-building-a-specific-package-and-its-dependencies" title="Permalink to this heading"></a></h2>
<p>In <em>daNetGame-based</em> games, packages often have cross-references. When something
changes in a “common” package, you need to ensure that everything works
correctly in all other packages that reference it. Instead of doing a full build
(which is very time-consuming), you can build the “common” package along with
its dependent packages, which is much faster.</p>
<p>To do this, write the following in the <code class="docutils literal notranslate"><span class="pre">daBuild</span></code> batch file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">..</span>\<span class="o">..</span>\<span class="n">tools</span>\<span class="n">dagor3_cdk</span>\<span class="n">bin64</span>\<span class="n">dabuild</span><span class="o">-</span><span class="n">dev</span><span class="o">.</span><span class="n">exe</span> <span class="o">-</span><span class="n">target</span><span class="p">:</span><span class="n">PC</span> <span class="o">..</span>\<span class="n">application</span><span class="o">.</span><span class="n">blk</span> <span class="o">-</span><span class="n">package_and_deps</span><span class="p">:</span><span class="n">package_name</span> <span class="o">-</span><span class="n">Q</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">package_and_deps</span></code> refers to the package and its dependencies.</p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="toggling-packages-in-settings-blk">
<h1>Toggling Packages in settings.blk<a class="headerlink" href="#toggling-packages-in-settings-blk" title="Permalink to this heading"></a></h1>
<p>Occasionally, you may need to enable or disable packages to test specific
scenarios (for instance, disabling a package to verify that the game runs
without it). This is configured in the <code class="docutils literal notranslate"><span class="pre">settings.blk</span></code> file. For all projects,
after modifying the package list, you must rebuild the <a class="reference internal" href="vromfs.html"><span class="std std-doc"><code class="docutils literal notranslate"><span class="pre">.vromfs.bin</span></code></span></a>
files.</p>
<p>In <em>War Thunder</em>, packages are enabled or disabled in the file located at
<code class="docutils literal notranslate"><span class="pre">engine_root\skyquake\develop\gameBase\_pc\settings.blk</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">addons</span><span class="p">{</span>
  <span class="n">folder</span><span class="p">:</span><span class="n">t</span> <span class="o">=</span> <span class="s2">&quot;content.hq/hq_tex&quot;</span>
  <span class="n">folder</span><span class="p">:</span><span class="n">t</span> <span class="o">=</span> <span class="s2">&quot;content.hq/pkg_cockpits&quot;</span>
  <span class="n">folder</span><span class="p">:</span><span class="n">t</span> <span class="o">=</span> <span class="s2">&quot;content/pkg_china&quot;</span>
  <span class="n">folder</span><span class="p">:</span><span class="n">t</span> <span class="o">=</span> <span class="s2">&quot;content.hq/pkg_china_hq&quot;</span>
  <span class="n">folder</span><span class="p">:</span><span class="n">t</span> <span class="o">=</span> <span class="s2">&quot;content/pkg_dev&quot;</span>
  <span class="n">folder</span><span class="p">:</span><span class="n">t</span> <span class="o">=</span> <span class="s2">&quot;content.hq/pkg_dev_hq&quot;</span>
  <span class="n">folder</span><span class="p">:</span><span class="n">t</span> <span class="o">=</span> <span class="s2">&quot;content/hc_pacific&quot;</span>
  <span class="n">folder</span><span class="p">:</span><span class="n">t</span> <span class="o">=</span> <span class="s2">&quot;content/pkg_user&quot;</span>
  <span class="n">folder</span><span class="p">:</span><span class="n">t</span> <span class="o">=</span> <span class="s2">&quot;content/pkg_local&quot;</span>
  <span class="n">folder</span><span class="p">:</span><span class="n">t</span> <span class="o">=</span> <span class="s2">&quot;content/tomoe&quot;</span>
  <span class="n">folder</span><span class="p">:</span><span class="n">t</span> <span class="o">=</span> <span class="s2">&quot;content.hq/tomoe_hq&quot;</span>
  <span class="n">folder</span><span class="p">:</span><span class="n">t</span> <span class="o">=</span> <span class="s2">&quot;content.hq/uhq_vehicles&quot;</span>
  <span class="n">folder</span><span class="p">:</span><span class="n">t</span> <span class="o">=</span> <span class="s2">&quot;content.hq/uhq_aircraft&quot;</span>
  <span class="n">folder</span><span class="p">:</span><span class="n">t</span> <span class="o">=</span> <span class="s2">&quot;content.hq/uhq_environment&quot;</span>
<span class="p">}</span>
<span class="n">addons_no_check</span><span class="p">{</span>
  <span class="n">folder</span><span class="p">:</span><span class="n">t</span> <span class="o">=</span> <span class="s2">&quot;content.hq/hq_tex&quot;</span>
  <span class="n">folder</span><span class="p">:</span><span class="n">t</span> <span class="o">=</span> <span class="s2">&quot;content.hq/pkg_cockpits&quot;</span>
  <span class="n">folder</span><span class="p">:</span><span class="n">t</span> <span class="o">=</span> <span class="s2">&quot;content/pkg_china&quot;</span>
  <span class="n">folder</span><span class="p">:</span><span class="n">t</span> <span class="o">=</span> <span class="s2">&quot;content.hq/pkg_china_hq&quot;</span>
  <span class="n">folder</span><span class="p">:</span><span class="n">t</span> <span class="o">=</span> <span class="s2">&quot;content/pkg_dev&quot;</span>
  <span class="n">folder</span><span class="p">:</span><span class="n">t</span> <span class="o">=</span> <span class="s2">&quot;content.hq/pkg_dev_hq&quot;</span>
  <span class="n">folder</span><span class="p">:</span><span class="n">t</span> <span class="o">=</span> <span class="s2">&quot;content/hc_pacific&quot;</span>
  <span class="n">folder</span><span class="p">:</span><span class="n">t</span> <span class="o">=</span> <span class="s2">&quot;content/pkg_user&quot;</span>
  <span class="n">folder</span><span class="p">:</span><span class="n">t</span> <span class="o">=</span> <span class="s2">&quot;content/pkg_local&quot;</span>
  <span class="n">folder</span><span class="p">:</span><span class="n">t</span> <span class="o">=</span> <span class="s2">&quot;content/tomoe&quot;</span>
  <span class="n">folder</span><span class="p">:</span><span class="n">t</span> <span class="o">=</span> <span class="s2">&quot;content.hq/tomoe_hq&quot;</span>
  <span class="n">folder</span><span class="p">:</span><span class="n">t</span> <span class="o">=</span> <span class="s2">&quot;content.hq/uhq_vehicles&quot;</span>
  <span class="n">folder</span><span class="p">:</span><span class="n">t</span> <span class="o">=</span> <span class="s2">&quot;content.hq/uhq_aircraft&quot;</span>
  <span class="n">folder</span><span class="p">:</span><span class="n">t</span> <span class="o">=</span> <span class="s2">&quot;content.hq/uhq_environment&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>To disable a package, simply comment out the relevant lines in both blocks and
rebuild <code class="docutils literal notranslate"><span class="pre">.vromfs.bin</span></code> files.</p>
<p>It’s important to note that this file is responsible only for enabling or
disabling packages within the game; it does not handle the creation of packages.
The requirement for a package to be built by <em>daBuild</em> is defined in the
<code class="docutils literal notranslate"><span class="pre">application.blk</span></code> file within the <code class="docutils literal notranslate"><span class="pre">packages{}</span></code> block.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="local-build-of-a-specific-asset">
<h1>Local Build of a Specific Asset<a class="headerlink" href="#local-build-of-a-specific-asset" title="Permalink to this heading"></a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">daBuild</span></code> command with the <code class="docutils literal notranslate"><span class="pre">-build:&lt;asset&gt;[:&lt;out_file&gt;]</span></code> parameter allows
you to build a single asset into the specified file. This command does not
update packages, meaning the updated asset will not be added to any package.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="local-resource-build-in-asset-viewer">
<h1>Local Resource Build in Asset Viewer<a class="headerlink" href="#local-resource-build-in-asset-viewer" title="Permalink to this heading"></a></h1>
<p>Resources can also be built using the <em>Asset Viewer</em>, which often speeds up the
process since <code class="docutils literal notranslate"><span class="pre">daBuild</span></code> via batch files can sometimes lag unpredictably.</p>
<p>For instructions on how to build using <em>Asset Viewer</em>, refer to the
documentation
<a class="reference internal" href="../asset-viewer/asset-viewer/asset_viewer.html#building-assets"><span class="std std-ref">here</span></a>.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="local-vromfs-build">
<h1>Local Vromfs Build<a class="headerlink" href="#local-vromfs-build" title="Permalink to this heading"></a></h1>
<p>VROMFS stands for “Virtual Read-Only Memory File System”. Essentially,
<a class="reference internal" href="vromfs.html"><span class="std std-doc">vromfs</span></a> files are the “virtual configuration disk” for our game.
They contain all the game’s operational settings that aren’t hard-coded.</p>
<p>When creating assets, you need to build vromfs primarily when you’re configuring
asset destruction or fine-tuning the behavior of in-game vehicles. In other
scenarios, vromfs building is typically unnecessary.</p>
<p>It’s crucial to remember that, by default, vromfs are delivered over the network
at the start of each mission, allowing for different settings per mission. If
you want to test something locally, ensure that your <code class="docutils literal notranslate"><span class="pre">config.blk</span></code> file has the
following line in the <code class="docutils literal notranslate"><span class="pre">debug{}</span></code> block: <code class="docutils literal notranslate"><span class="pre">offlineBinaries:b=yes</span></code>. Alternatively,
you can use <code class="docutils literal notranslate"><span class="pre">disableNetwork:b=yes</span></code> if network features are irrelevant to you.
For added security, you might want to include both.</p>
<section id="methods-to-build-vromfs">
<h2>Methods to Build Vromfs<a class="headerlink" href="#methods-to-build-vromfs" title="Permalink to this heading"></a></h2>
<ol class="arabic simple">
<li><p><strong>Using <code class="docutils literal notranslate"><span class="pre">create_vrsroms.bat</span></code></strong></p>
<ul class="simple">
<li><p>Located in the <code class="docutils literal notranslate"><span class="pre">engine_engine_root\&lt;project_name&gt;\develop\gameBase</span></code> directory.
This method is useful because it immediately indicates if there’s an issue
with the settings by throwing an error. Additionally, it provides a local
log (<code class="docutils literal notranslate"><span class="pre">log_vrom</span></code>) in the same directory, which helps you identify and
resolve any problems.</p></li>
</ul>
</li>
<li><p><strong>Using <code class="docutils literal notranslate"><span class="pre">aces_dev.exe</span></code></strong></p>
<ul class="simple">
<li><p>Technically, this tool does not build vromfs. However, if you have
<code class="docutils literal notranslate"><span class="pre">vromfsPriority:b=no</span></code> set in the <code class="docutils literal notranslate"><span class="pre">debug{}</span></code> block of your <code class="docutils literal notranslate"><span class="pre">config.blk</span></code>, all
configuration files will be read directly from <code class="docutils literal notranslate"><span class="pre">develop\gameBase</span></code> instead
of from vromfs. This approach offers several advantages: there’s no need to
wait for vromfs building after each change, and errors are logged in a more
readable format. Additionally, this method allows you to add the powerful
<code class="docutils literal notranslate"><span class="pre">trackEnvChanges:b=yes</span></code> line to your <code class="docutils literal notranslate"><span class="pre">config.blk</span></code>, enabling you to tweak
settings directly in-game. Although this doesn’t work for all settings,
it’s particularly helpful for adjusting weather or visual elements, as you
can see the changes in real-time without restarting the client.</p></li>
</ul>
</li>
</ol>
<p>Choose the method based on your experience. The in-game approach might be less
convenient, but sometimes it’s essential to ensure everything behaves exactly as
it would in production.</p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="local-build-of-resources-and-vromfs-in-the-open-daeditor-and-client">
<h1>Local Build of Resources and Vromfs in the open daEditor and Client<a class="headerlink" href="#local-build-of-resources-and-vromfs-in-the-open-daeditor-and-client" title="Permalink to this heading"></a></h1>
<p>You can build resources and <a class="reference internal" href="vromfs.html"><span class="std std-doc">vromfs</span></a> while the
<a class="reference internal" href="../daeditor/index.html"><span class="std std-doc"><em>daEditor</em></span></a> is open (though resource building might
cause the <em>daEditor</em> to crash).</p>
<p>However, resources and vromfs cannot be built while the client is open.</p>
<p>If you find that resources aren’t building after you’ve closed the client – or
they seem to build, but the changes aren’t reflected in-game – open the Task
Manager and terminate any lingering <code class="docutils literal notranslate"><span class="pre">aces_dev.exe</span></code> processes.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="local-level-export">
<h1>Local Level Export<a class="headerlink" href="#local-level-export" title="Permalink to this heading"></a></h1>
<p>If you’re developing in-game vehicles that are loaded via missions, you can skip
this section.</p>
<p>However, if you’re creating objects for maps, you’ll need to place them on the
map and export the level to test them in-game. This process is done via the
<em>daEditor</em>.</p>
<p>Level export is necessary when:</p>
<ul class="simple">
<li><p>You’re working with prefabs. Prefabs are only included in the game during
level re-export.</p></li>
<li><p>You’ve added a new asset that wasn’t previously on the level or removed
something from the location.</p></li>
<li><p>Something has changed in object generation, and their placement needs to be
updated.</p></li>
</ul>
<p>If you’re only modifying render instances or textures, there’s no need to
re-export the level – doing so would just waste time.</p>
<p>Once you have placed all your objects, save the level and follow these steps:</p>
<ol class="arabic simple">
<li><p>Open the <strong>Project</strong> menu.</p></li>
<li><p>Select <strong>Export to Game (PC format)</strong> (if needed).</p></li>
<li><p>Click <strong>OK</strong> on all subsequent dialog boxes.</p></li>
<li><p>Save the level binary file.</p></li>
<li><p>After the level build is complete, launch the game and verify the objects.</p></li>
</ol>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Resource Building" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="vromfs.html" class="btn btn-neutral float-right" title="Vromfs" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Gaijin Entertainment 2024.
      <span class="lastupdated">Last updated on Nov 15, 2024.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>